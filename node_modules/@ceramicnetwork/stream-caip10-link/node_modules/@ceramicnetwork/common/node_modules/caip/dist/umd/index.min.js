!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CAIP",[],t):"object"==typeof exports?exports.CAIP=t():e.CAIP=t()}(this,(function(){return function(e){var t={};function s(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=4)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},n={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},a={name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:r,1:n}}},i={name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:r,1:n,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}};t.CAIP={2:r,10:{name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},19:{assetName:n,assetType:a,assetId:i}}},function(e,t,s){"use strict";function r(e,t){return e.split(t.parameters.delimiter)}Object.defineProperty(t,"__esModule",{value:!0}),t.splitParams=r,t.getParams=function(e,t){const s=r(e,t),n={};return s.forEach((e,s)=>{n[t.parameters.values[s].name]=e}),n},t.joinParams=function e(t,s){return Object.values(s.parameters.values).map(s=>{const r=t[s.name];return"string"==typeof r?r:e(r,s)}).join(s.parameters.delimiter)},t.isValidId=function(e,t){if(!new RegExp(t.regex).test(e))return!1;const s=r(e,t);return s.length===Object.keys(t.parameters.values).length&&s.map((e,s)=>new RegExp(t.parameters.values[s].regex).test(e)).filter(e=>!!e).length===s.length}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),n=s(1);class a{constructor(e){"string"==typeof e&&(e=a.parse(e)),this.namespace=e.namespace,this.reference=e.reference}static parse(e){if(!n.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new a(n.getParams(e,this.spec)).toJson()}static format(e){return n.joinParams(e,this.spec)}toString(){return a.format(this.toJson())}toJson(){return{namespace:this.namespace,reference:this.reference}}}t.ChainId=a,a.spec=r.CAIP[2]},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(0),n=s(1);class a{constructor(e){"string"==typeof e&&(e=a.parse(e)),this.namespace=e.namespace,this.reference=e.reference}static parse(e){if(!n.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new a(n.getParams(e,this.spec)).toJson()}static format(e){return n.joinParams(e,this.spec)}toString(){return a.format(this.toJson())}toJson(){return{namespace:this.namespace,reference:this.reference}}}t.AssetName=a,a.spec=r.CAIP[19].assetName},function(e,t,s){"use strict";function r(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),r(s(5)),r(s(2)),r(s(6)),r(s(7))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(2),n=s(0),a=s(1);class i{constructor(e){"string"==typeof e&&(e=i.parse(e)),this.chainId=new r.ChainId(e.chainId),this.address=e.address}static parse(e){if(!a.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);const{namespace:t,reference:s,address:n}=a.getParams(e,this.spec),o=new r.ChainId({namespace:t,reference:s});return new i({chainId:o,address:n}).toJson()}static format(e){const t=new r.ChainId(e.chainId),s=Object.assign(Object.assign({},t.toJson()),{address:e.address});return a.joinParams(s,this.spec)}toString(){return i.format(this.toJson())}toJson(){return{chainId:this.chainId.toJson(),address:this.address}}}t.AccountId=i,i.spec=n.CAIP[10]},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(3),n=s(2),a=s(0),i=s(1);class o{constructor(e){"string"==typeof e&&(e=o.parse(e)),this.chainId=new n.ChainId(e.chainId),this.assetName=new r.AssetName(e.assetName)}static parse(e){if(!i.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new o(i.getParams(e,this.spec)).toJson()}static format(e){return i.joinParams(e,this.spec)}toString(){return o.format(this.toJson())}toJson(){return{chainId:this.chainId.toJson(),assetName:this.assetName}}}t.AssetType=o,o.spec=a.CAIP[19].assetType},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(3),n=s(2),a=s(0),i=s(1);class o{constructor(e){"string"==typeof e&&(e=o.parse(e)),this.chainId=new n.ChainId(e.chainId),this.assetName=new r.AssetName(e.assetName),this.tokenId=e.tokenId}static parse(e){if(!i.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new o(i.getParams(e,this.spec)).toJson()}static format(e){return i.joinParams(e,this.spec)}toString(){return o.format(this.toJson())}toJson(){return{chainId:this.chainId.toJson(),assetName:this.assetName.toJson(),tokenId:this.tokenId}}}t.AssetId=o,o.spec=a.CAIP[19].assetId}])}));